syntax = "proto3";
package eshop;

import "google/protobuf/timestamp.proto";

service EshopService {
  rpc GetBook(BookRequest) returns (Book) {}
  rpc GetAuthor(AuthorRequest) returns (Author) {}
  rpc GetUser(UserRequest) returns (User) {}
}

message BookRequest {
  string id = 1;
}

message Book {
  string id = 1;
  bool is_owned = 2;
  repeated Chapter chapters = 3;
  repeated Author author = 4;
  uint64 length = 5;
  string name = 6;
  string description = 7;
  string file_url = 8;
  string cover_url = 9;
  uint64 price = 10;
  string ISBN = 11;
}

message AuthorRequest {
  string id = 1;
}

message Author {
  string id = 1;
  string name = 2;
}

message Chapter {
  string id = 1;
  string chapter_name = 2;
}

message UserRequest {
  string id = 1;
}

message User {
  string id = 1;
  string name = 2;
  bool studio_access = 3;
}

// todo chapter