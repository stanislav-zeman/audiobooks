---
import Spinner from "@components/common/Spinner.astro";
import PageLayout from "@layouts/PageLayout.astro";
---

<PageLayout>
  <section class="min-h-screen flex justify-center items-center -mt-10">
    <div role="status" class="w-1/6">
      <Spinner />
    </div>
  </section>
</PageLayout>

<script>
  import { parseToken } from "@utils/auth/parseToken";

  const url = new URL(window.location.href);
  const token = parseToken(url);

  if (token) {
    localStorage.setItem("token", JSON.stringify(token));
    window.location.href = "/";
  }
</script>
